<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./CSS/farmland.css">
    <link rel="stylesheet" href="CSS/icon.css">
    <link rel="stylesheet" href="CSS/interface.css">

    <style>
        [draggable="true"] {
    /*
     To prevent user selecting inside the drag source
    */
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }
    </style>

    <title>GrowUp學習趣</title>
</head>

<body background="photo/background.png" onload="ShowTime()">

    <div class="home_page">
        <a>等待help的村民</a>
        <div id="today"></div><br>
        <div id="showtime"></div>
    </div>
<div id="drag-drop-basic" >
    <div id="iconshow">
        <img id="icon1" style="width: 15%;height: 100%;" src="./image/chinese_alphabet/b.png">
        <p id="num1">0</p>
        <img id="icon2" style="width: 15%;height: 100%; padding-left: 3%;" src="./image/chinese_alphabet/p.png">
        <p id="num2">0</p>
        <img id="icon3" style="width: 15%;height: 100%; padding-left: 3%;" src="./image/chinese_alphabet/m.png">
        <p id="num3">0</p>
        <img id="icon4" style="width: 15%;height: 100%; padding-left: 3%;" src="./image/chinese_alphabet/f.png">
        <p id="num4">0</p>
        <img id="childimg" src="./image/character/baba.jpg">
    </div>
    <div style="width: auto; height: auto;">
        <img id="boyfarmer" src="./image/character/farmer.png"><br>
        <img id="girlfarmer" src="./image/character/girl.png">
    </div>

    <img id="farmland" src="./image/character/farmland.png">
    <div id="target-container" data-role="drag-drop-container"></div>
    <div id="target-container2" data-role="drag-drop-container"></div>
    <div id="target-container3" data-role="drag-drop-container"></div>
    <div id="target-container4" data-role="drag-drop-container"></div>
    <div id="target-container5" data-role="drag-drop-container"></div>
    <div id="target-container6" data-role="drag-drop-container"></div>
    <div id="target-container7" data-role="drag-drop-container"></div>
    <div id="target-container8" data-role="drag-drop-container"></div>
    <div id="target-container9" data-role="drag-drop-container"></div>
    <div id="target-container10" data-role="drag-drop-container"></div>
    <div id="target-container11" data-role="drag-drop-container"></div>
    <div id="target-container12" data-role="drag-drop-container"></div>
    <div id="target-container13" data-role="drag-drop-container"></div>
    <div id="target-container14" data-role="drag-drop-container"></div>
    <div id="target-container15" data-role="drag-drop-container"></div>
    <div id="target-container16" data-role="drag-drop-container"></div>

    <div id="magicCardTitle">魔法小卡</div>
       <div id="source-container" data-role="drag-drop-container">
            <div id="drag-source0" draggable="true"></div>
            <div id="drag-source1" draggable="true"></div>
            <div id="drag-source2" draggable="true"></div>
            <div id="drag-source3" draggable="true"></div>
        </div>
</div>
    <div>
        <a href="test1.html" class="sosfloat" id="menu-share">
            <i class="fab fa-share my-float"><img src="photo/help.png" width="70%"></i>
        </a>
    </div>
    <div class="fabs" onclick="toggleBtn()">
        <div class="action">
            <i class="fas" id="add"><img src="photo/settings.png" width="110%"></i>
            <i class="fas" id="remove" style="display: none"><img src="photo/settings.png" width="110%"></i>
        </div>

        <div class="btns">
            <a href="personalprofile.html" class="btn"><i class="fab "><img src="photo/user.png" title="個人簡介"
                        width="95%"></i></a>
            <a href="history.html" class="btn"><i class="fab "><img src="photo/record.png" title="歷史紀錄"
                        width="95%"></i></a>
            <a href="#" class="btn"><i class="fab "><img src="photo/analysis.png" title="學習歷程" width="95%"></i></a>
        </div>
    </div>

        <div>
            <a href="game_home.html" class="returnfloat" id="menu-share">
                <i class="fab fa-share return-float"><img src="photo/return.png"></i>
            </a>
        </div>
        <div>
            <a href="game_home.html" class="homefloat" id="menu-share">
                <i class="fab fa-share my-float"><img src="photo/gobackhome.png" width="70%"></i>
            </a>
        </div>
        <!-- You can also require other files to run in this process -->

        <script>
            function toggleBtn() {
                const Btns = document.querySelector(".btns");
                const add = document.getElementById("add");
                const remove = document.getElementById("remove");
                const btn = document.querySelector(".btns").querySelectorAll("a");
                Btns.classList.toggle("open");
                if (Btns.classList.contains("open")) {
                    remove.style.display = "block";
                    add.style.display = "none";
                    btn.forEach((e, i) => {
                        setTimeout(() => {
                            bottom = 65 * i;
                            e.style.bottom = bottom + "px";
                            console.log(e);
                        }, 100 * i);
                    });
                } else {
                    add.style.display = "block";
                    remove.style.display = "none";
                    btn.forEach((e, i) => {
                        e.style.bottom = "0px";
                    });
                }
            }
        </script>



    <script language="JavaScript">

        function ShowTime() {

            var fullDate = new Date();
            var yyyy = fullDate.getFullYear();
            var MM = (fullDate.getMonth() + 1) >= 10 ? (fullDate.getMonth() + 1) : ("0" + (fullDate.getMonth() + 1));
            var dd = fullDate.getDate() < 10 ? ("0" + fullDate.getDate()) : fullDate.getDate();
            document.getElementById('today').innerHTML = yyyy + "/" + MM + "/" + dd;

            var NowDate = new Date();
            var h = NowDate.getHours();
            var m = NowDate.getMinutes();
            document.getElementById('showtime').innerHTML = h + ':' + m;
            setTimeout('ShowTime()', 1000);
        }
    </script>

    <script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-157cd5b220a5c80d4ff8e0e70ac069bffd87a61252088146915e8726e5d9f147.js"></script>
    
    <script id="rendered-js">
    let dragSources = document.querySelectorAll('[draggable="true"]');
        dragSources.forEach(dragSource => {
        dragSource.addEventListener('dragstart', dragStart);
  });

   let dropTargets = document.querySelectorAll('[data-role="drag-drop-container"]');
    dropTargets.forEach(dropTarget => {
        dropTarget.addEventListener('drop', dropped);
        dropTarget.addEventListener('dragenter', cancelDefault);
        dropTarget.addEventListener('dragover', cancelDefault);
  });

   function cancelDefault(e) {
    e.preventDefault();
    e.stopPropagation();
    return false;
  }
  
  function dragStart(e) {
    e.dataTransfer.setData('text/plain', e.target.id);
    sourceContainerId = this.parentElement.id;
    console.log('sourceContainerId', sourceContainerId);
    
    
   
  }

  function dropped (e) {
  console.log('dropped')
  cancelDefault(e)
  let id = e.dataTransfer.getData('text/plain')
  e.target.appendChild(document.querySelector('#' + id))
}
    </script>

    <script src="https://static.codepen.io/assets/editor/iframe/iframeRefreshCSS-e03f509ba0a671350b4b363ff105b2eb009850f34a2b4deaadaa63ed5d970b37.js"></script>
</body>

</html>