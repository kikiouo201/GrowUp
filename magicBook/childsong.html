<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../CSS/icon.css">
    <link rel="stylesheet" href="../CSS/interface.css">
    <link rel="stylesheet" href="../CSS/every_four_button.css">
    <link rel="stylesheet" href="./css/childsong.css">
    <script src="./js/childsong.js"></script>

    <title>Document</title>

    <script>
        const puppeteer = require('puppeteer');

        function tastPuppeteer(num) {
            (async() => {
                let browser = await puppeteer.launch({
                    executablePath: 'C:/Program Files (x86)/Google/Chrome/Application/chrome.exe',
                    headless: false
                });
                const page = await browser.newPage();
                await page.goto("https://children.moc.gov.tw/song_list");

                const a = await page.$$('.songbox')
                await (a[num].$eval('img' , al => al.click()))

                // await browser.close();
            })();
        }


        function createSong() {
            (async() => {
                let browser = await puppeteer.launch({
                    executablePath: 'C:/Program Files (x86)/Google/Chrome/Application/chrome.exe',
                    headless: true
                });
                const page = await browser.newPage();
                await page.goto("https://children.moc.gov.tw/song_list");

                const a = await page.$$('.songbox')

                console.log(href)
                console.log(h2)
                await browser.close();
            })();
        }
    </script>

</head>

<body style="width: 100%; height: 100%; margin-left: 0px;" background="../image/background/desk.png" onload="ShowTime()">
    <div class="home_page">
        <a class="home_title">兒歌寶典</a>

        <div id="today"></div>
        <br>
        <div id="showtime"></div>
    </div>

    <img onclick="scrolls(this)" class="Arrow" style="right:15px; visibility: visible;" src="../magicBook/image/ArrowIcon.png" alt="right">
    <img onclick="scrolls(this)" class="Arrow" style="left:15px; transform:rotate(180deg); visibility: visible;" src="../magicBook/image/ArrowIcon.png" alt="left">

    <div id="bookContent" class="bookContent">

            <div id="song">
                <div id="song_name">
                    <h2>1.一禮拜</h2>
                </div>
                <div id="songImg">
                    <img id="img" src="https://children.moc.gov.tw/resource/song_image/s_480.jpg" onclick="tastPuppeteer(0)">
                </div>
            </div>

            <div id="song">
                <div id="song_name">
                    <h2>2.讓愛看得的見</h2>
                </div>
                <div id="songImg">
                    <img id="img" src="https://children.moc.gov.tw/resource/song_image/s_479.jpg" onclick="tastPuppeteer(1)">
                </div>
            </div>

            <div id="song">
                <div id="song_name">
                    <h2>3.阿不倒</h2>
                </div>
                <div id="songImg">
                    <img src="https://children.moc.gov.tw/resource/song_image/s_478.jpg" onclick="tastPuppeteer(2)">
                </div>
            </div>

            <div id="song">
                <div id="song_name">
                    <h2>4.露珠</h2>
                </div>
                <div id="songImg">
                    <img src="https://children.moc.gov.tw/resource/song_image/s_477.jpg" onclick="tastPuppeteer(3)">
                </div>
            </div>

            <div id="song">
                <div id="song_name">
                    <h2>5.疊羅漢</h2>
                </div>
                <div id="songImg">
                    <img src="https://children.moc.gov.tw/resource/song_image/s_476.jpg" onclick="tastPuppeteer(4)">
                </div>
            </div>

            <div id="song">
                <div id="song_name">
                    <h2>6.雨的花蕊</h2>
                </div>
                <div id="songImg">
                    <img src="https://children.moc.gov.tw/resource/song_image/s_475.jpg" onclick="tastPuppeteer(5)">
                </div>
            </div>

            <div id="song">
                <div id="song_name">
                    <h2>7.Snbarux 換工</h2>
                </div>
                <div id="songImg">
                    <img src="https://children.moc.gov.tw/resource/song_image/s_474.jpg" onclick="tastPuppeteer(6)">
                </div>
            </div>

            <div id="song">
                <div id="song_name">
                    <h2>8.白鶴</h2>
                </div>
                <div id="songImg">
                    <img src="https://children.moc.gov.tw/resource/song_image/s_473.jpg" onclick="tastPuppeteer(7)">
                </div>
            </div>
            

            <div id="song">
                <div id="song_name">
                    <h2>9.燕子回來的時候</h2>
                </div>
                <div id="songImg">
                    <img src="https://children.moc.gov.tw/resource/song_image/s_472.jpg" onclick="tastPuppeteer(8)">
                </div>
            </div>
    </div>


    <div>
        <a href="../game_home.html" class="sosfloat sos_mark" id="menu-share">
            <i class="fab fa-share my-float"><img src="../photo/help.png" width="70%"></i>
        </a>
    </div>


    <div class="return_mark">
        <a href="./magicBook.html" class="returnfloat" id="menu-share">
            <i class="fab fa-share return-float"><img src="../photo/return.png"></i>
        </a>
    </div>

    <div class="home_mark">
        <a href="../game_home.html" class="homefloat" id="menu-share">
            <i class="fab fa-share my-float"><img src="../photo/gobackhome.png" width="70%"></i>
        </a>
    </div>
    <script language="JavaScript">
        function ShowTime() {

            var fullDate = new Date();
            var yyyy = fullDate.getFullYear();
            var MM = (fullDate.getMonth() + 1) >= 10 ? (fullDate.getMonth() + 1) : ("0" + (fullDate.getMonth() + 1));
            var dd = fullDate.getDate() < 10 ? ("0" + fullDate.getDate()) : fullDate.getDate();
            document.getElementById('today').innerHTML = yyyy + "/" + MM + "/" + dd;

            var NowDate = new Date();
            var h = NowDate.getHours();
            var m = NowDate.getMinutes();
            document.getElementById('showtime').innerHTML = h + ':' + m;
            setTimeout('ShowTime()', 1000);
        }
    </script>

    <script>
        function toggleBtn() {
            const Btns = document.querySelector(".btns");
            const add = document.getElementById("add");
            const remove = document.getElementById("remove");
            const btn = document.querySelector(".btns").querySelectorAll("a");
            Btns.classList.toggle("open");
            if (Btns.classList.contains("open")) {
                remove.style.display = "block";
                add.style.display = "none";
                btn.forEach((e, i) => {
                    setTimeout(() => {
                        bottom = 65 * i;
                        e.style.bottom = bottom + "px";
                        console.log(e);
                    }, 100 * i);
                });
            } else {
                add.style.display = "block";
                remove.style.display = "none";
                btn.forEach((e, i) => {
                    e.style.bottom = "0px";
                });
            }
        }
    </script>

    <script>
        let bookcontent = document.querySelector("#bookContent");

        function scrolls(direction) {
            if (direction.alt == "right")
                bookcontent.scrollLeft += 400;
            else
                bookcontent.scrollLeft -= 400;

            console.log(bookcontent.scrollLeft);
        }
    </script>
</body>

</html>