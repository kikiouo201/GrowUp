<!DOCTYPE html>
<html style="width: auto; height: auto;">

<head>
    <meta charset="BIG-5">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <title>GrowUp學習趣</title>
    <link rel="stylesheet" type="text/css" href="./CSS/camera.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" type="twxt/css">
    <link href="CSS/STT.css" type="text/css" rel="stylesheet">
    <link href="CSS/link.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="CSS/icon.css">
    <link rel="stylesheet" href="CSS/interface.css">
    <link rel="stylesheet" href="CSS/every_four_button.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="camera.js"></script>
    <script src="https://apis.google.com/js/client.js"></script>


</head>

<body style="width: auto; height: auto;" background="photo/background.png" onload="ShowTime(),open_mjpgstreamer()">



    <div class="home_page">
        <a class="home_title">你拍我答</a>

        <div id="today"></div>
        <br>
        <div id="showtime"></div>

    </div>
    
    <div style="text-align: center;">
        <img id="stream" src="http://172.20.10.2:8080/?action=stream" style="width: 400px; height: 300px; ">
    </div>
    <div>
        <img id="AnsImg" src="" style="width: 300px; height: 300px; ">
    </div>
    <div id="show_page">
        <div class="QA_card_area" id="QA_card">
            <div class="card text-white  mb-3" style="background-color: #92337eba;">

                <div class="card-body" style="margin-top: 30px;">
                    <div style="float:left; display: block; text-align: left;">
                        <p id="Ans" class="card-text card_A" style="float: left;">答案：</p>
                        <p id="AnsTxt" class="card-text card_A" style="margin-left: 0px;">蘋果</p>
                        <img class="speaker_A" onclick="speaker(this)" id="speaker_A" src="icons/speaker.png" />
                    </div>

                    <div style="float:left; display: block; text-align: left;">
                        <p id="explain" class="card-text card_A" style="float: left;">敘述：</p>
                        <p id="explainTxt" class="card-text card_A" style="margin-left: 0px;">落業喬木。葉軟形，邊緣有細尖鋸齒。果實球形，味美，可食，也可製酒。</p>
                        <img class="speaker_A" onclick="speaker(this)" id="speaker_A" src="icons/speaker.png" />
                    </div>
                </div>
                <div class="card-header contentCss" id="QA_num_" style="background-color: #f8f9fa24; height: auto">
                    <p class="contentlink">相關繪本連結：</p>
                    <p class="book_css"></p>
                    <img id="bookImg" src="" style="margin-left: 25%; padding: 10px;" width="180" height="153" alt="蘋果甜蜜蜜">
                    <p id="bookExplain" style="display: inline-block; margin-left: 20px; margin-right: 40px; font-size: 18pt;"></p>
                </div>
                


            </div>
        </div>

    </div>
    <div class="main_area">
        <span class="mh0 system-show w3-btn w3-ripple">
      <h2 id="leadTxt"style="font-family: Microsoft JhengHei; display:inline-block; margin-top: 8px; margin-bottom: 0px;">請先拍下你想知道的事物</h2>
    
      <span   class="mh1 voice-btn w3-btn w3-ripple" style="width: auto; height: 50px; margin-top: 2px;" >
        <img id="identify-js"  src="./photo/camera.png"style="height: 80%; width: 50px; margin-top: 5px; cursor: pointer; " onclick="changecss()">

      </span>
        </span>
    </div>



   
    <div class="return_mark">
        <a onclick="history.back()" class="returnfloat" id="menu-share">
            <i class="fab fa-share return-float"><img src="photo/return.png"></i>
        </a>
    </div>

    <div class="home_mark">
        <a href="game_home.html" class="homefloat" id="menu-share">
            <i class="fab fa-share my-float"><img src="photo/gobackhome.png" width="70%"></i>
        </a>
    </div>
    <script language="JavaScript">
        function ShowTime() {

            var fullDate = new Date();
            var yyyy = fullDate.getFullYear();
            var MM = (fullDate.getMonth() + 1) >= 10 ? (fullDate.getMonth() + 1) : ("0" + (fullDate.getMonth() + 1));
            var dd = fullDate.getDate() < 10 ? ("0" + fullDate.getDate()) : fullDate.getDate();
            document.getElementById('today').innerHTML = yyyy + "/" + MM + "/" + dd;

            var NowDate = new Date();
            var h = NowDate.getHours();
            var m = NowDate.getMinutes();
            document.getElementById('showtime').innerHTML = h + ':' + m;
            setTimeout('ShowTime()', 1000);
        }
    </script>
    <script>
        function toggleBtn() {
            const Btns = document.querySelector(".btns");
            const add = document.getElementById("add");
            const remove = document.getElementById("remove");
            const btn = document.querySelector(".btns").querySelectorAll("a");
            Btns.classList.toggle("open");
            if (Btns.classList.contains("open")) {
                remove.style.display = "block";
                add.style.display = "none";
                btn.forEach((e, i) => {
                    setTimeout(() => {
                        bottom = 65 * i;
                        e.style.bottom = bottom + "px";
                        console.log(e);
                    }, 100 * i);
                });
            } else {
                add.style.display = "block";
                remove.style.display = "none";
                btn.forEach((e, i) => {
                    e.style.bottom = "0px";
                });
            }
        }
    </script>


    <script>
        const SSU = new SpeechSynthesisUtterance();

        function speaker(QA) {
            SSU.text = QA.parentNode.childNodes[3].childNodes[0].nodeValue;
            toggle();
        }

        function toggle(startOver = true) {
            speechSynthesis.cancel();
            if (startOver) {
                speechSynthesis.voice = "Google 國語（臺灣）";
                speechSynthesis.speak(SSU);
            }
        }

        const stopDOM = document.body;
        stopDOM.addEventListener('dblclick', toggle.bind(null, false));
    </script>

    <script>
        function changecss() {
            // var ShowVisibility = document.querySelector('.QA_card_area');
            // var ImgVisibility = document.querySelector('img#AnsImg');
            // var stream = document.querySelector('#stream');
            // if(stream.style.display=="block"){
            //     ImgVisibility.src = "./still-image.jpg"
            //     stream.style.display="none";
            //     ShowVisibility.style.display = "block";
            //     ImgVisibility.style.display = "block";
            //     document.getElementById('leadTxt').innerHTML="辨識成功!!";
            // }else{
            //     stream.src = "http://172.20.10.2:8080/?action=stream"
            //     stream.style.display="block";
            //     ShowVisibility.style.display = "none";
            //     ImgVisibility.style.display = "none";
            // }

        }
    </script>
    <script src="./render.js"></script>
</body>

</html>